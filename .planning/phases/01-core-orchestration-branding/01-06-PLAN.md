---
phase: 01-core-orchestration-branding
plan: 06
type: execute
wave: 4
depends_on: ["01-05"]
files_modified:
  - GRD-STYLE.md
autonomous: false

must_haves:
  truths:
    - "No GSD references remain in codebase (except historical/changelog)"
    - "Running grd: commands in Claude Code shows GRD branding"
    - "npm run build:hooks completes successfully"
    - "All JavaScript files pass syntax validation"
    - "Config system (get-research-done/config/) loads and parses correctly"
    - "STATE.md template supports session restoration context"
    - "Agent definition files contain correct spawn metadata"
  artifacts:
    - path: "GRD-STYLE.md"
      provides: "Updated style guide"
      contains: "GRD"
  key_links:
    - from: "commands/grd/*.md"
      to: "Claude Code runtime"
      via: "slash command registration"
      pattern: "/grd:"
    - from: "get-research-done/config/default.json"
      to: "workflow commands"
      via: "config loading"
---

<objective>
Final verification and cleanup to ensure complete GRD rebrand

Purpose: Verifies the entire rebrand is complete with no broken references, validates all code compiles, and gets human confirmation that the CLI branding appears correctly.

Output: Clean codebase with zero GSD references and verified GRD functionality
</objective>

<execution_context>
@/Users/evanowen/.claude/get-shit-done/workflows/execute-plan.md
@/Users/evanowen/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-core-orchestration-branding/01-RESEARCH.md
@.planning/phases/01-core-orchestration-branding/01-01-SUMMARY.md
@.planning/phases/01-core-orchestration-branding/01-02-SUMMARY.md
@.planning/phases/01-core-orchestration-branding/01-03-SUMMARY.md
@.planning/phases/01-core-orchestration-branding/01-04-SUMMARY.md
@.planning/phases/01-core-orchestration-branding/01-05-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Comprehensive GSD reference scan</name>
  <files>Entire codebase</files>
  <action>
Run exhaustive search for any remaining GSD references:

1. Search all markdown, JavaScript, and JSON files:
   ```bash
   echo "=== Searching for remaining GSD references ==="

   # Search for gsd: command references
   echo "gsd: references:"
   grep -r "gsd:" --include="*.md" --include="*.js" --include="*.json" . \
     --exclude-dir=node_modules --exclude-dir=.git --exclude-dir=.planning \
     2>/dev/null | grep -v "grd:" || echo "None found"

   # Search for gsd- agent/file references
   echo ""
   echo "gsd- references:"
   grep -r "gsd-" --include="*.md" --include="*.js" --include="*.json" . \
     --exclude-dir=node_modules --exclude-dir=.git --exclude-dir=.planning \
     2>/dev/null || echo "None found"

   # Search for get-shit-done path references
   echo ""
   echo "get-shit-done references:"
   grep -r "get-shit-done" --include="*.md" --include="*.js" --include="*.json" . \
     --exclude-dir=node_modules --exclude-dir=.git --exclude-dir=.planning \
     2>/dev/null || echo "None found"

   # Search for GSD (case-sensitive, excluding changelog/history context)
   echo ""
   echo "GSD references (excluding changelog):"
   grep -r "GSD" --include="*.md" --include="*.js" . \
     --exclude-dir=node_modules --exclude-dir=.git --exclude-dir=.planning \
     --exclude="CHANGELOG.md" --exclude="*HISTORY*" \
     2>/dev/null | grep -v "GRD" || echo "None found"
   ```

2. If any references found, fix them:
   - Update missed files with sed
   - Verify each fix manually

3. Update GRD-STYLE.md (renamed from GSD-STYLE.md in Plan 01):
   - Replace all GSD references with GRD
   - Update any get-shit-done paths to get-research-done
   - Update any gsd: command examples to grd:
  </action>
  <verify>
    - All grep searches return "None found" or only acceptable exceptions (changelog history)
    - GRD-STYLE.md contains no GSD references
  </verify>
  <done>
    Zero unintended GSD references remain in codebase
  </done>
</task>

<task type="auto">
  <name>Task 2: Validate all code compiles</name>
  <files>hooks/*.js, scripts/*.js, bin/install.js</files>
  <action>
Verify all JavaScript files have valid syntax and hooks build correctly:

1. Syntax check all JavaScript files:
   ```bash
   echo "=== JavaScript Syntax Validation ==="

   for f in bin/install.js hooks/grd-*.js scripts/build-hooks.js; do
     node -c "$f" && echo "OK: $f" || echo "FAIL: $f"
   done
   ```

2. Run hook build:
   ```bash
   echo ""
   echo "=== Building Hooks ==="
   npm run build:hooks
   ```

3. Verify dist output:
   ```bash
   echo ""
   echo "=== Dist Files ==="
   ls -la hooks/dist/
   ```

4. Verify dist files have correct names:
   ```bash
   test -f hooks/dist/grd-statusline.js && echo "OK: grd-statusline.js" || echo "MISSING: grd-statusline.js"
   test -f hooks/dist/grd-check-update.js && echo "OK: grd-check-update.js" || echo "MISSING: grd-check-update.js"
   ```
  </action>
  <verify>
    - All `node -c` checks pass
    - `npm run build:hooks` exits with 0
    - hooks/dist/grd-statusline.js exists
    - hooks/dist/grd-check-update.js exists
  </verify>
  <done>
    All JavaScript compiles and hooks build successfully
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify orchestration foundation (STATE-02, STATE-03)</name>
  <files>get-research-done/config/, get-research-done/templates/state.md, agents/grd-*.md</files>
  <action>
Verify the inherited orchestration capabilities work correctly after rename:

1. Verify config system (STATE-02):
   ```bash
   echo "=== Config System Verification ==="

   # Check config directory exists with files
   test -d get-research-done/config && echo "OK: config/ exists" || echo "FAIL: config/ missing"
   ls get-research-done/config/

   # Verify default config is valid JSON
   echo ""
   echo "Config file validation:"
   for f in get-research-done/config/*.json; do
     node -e "JSON.parse(require('fs').readFileSync('$f'))" && echo "OK: $f" || echo "FAIL: $f"
   done
   ```

2. Verify STATE.md template supports context restoration (STATE-03):
   ```bash
   echo ""
   echo "=== STATE.md Template Verification ==="

   # Check critical sections exist for context restoration
   grep -q "Session Continuity" get-research-done/templates/state.md && \
     echo "OK: Session Continuity section present" || echo "FAIL: Session Continuity missing"
   grep -q "Last session:" get-research-done/templates/state.md && \
     echo "OK: Last session tracking present" || echo "FAIL: Last session field missing"
   grep -q "Stopped at:" get-research-done/templates/state.md && \
     echo "OK: Stop point tracking present" || echo "FAIL: Stop point field missing"
   grep -q "Resume file:" get-research-done/templates/state.md && \
     echo "OK: Resume file tracking present" || echo "FAIL: Resume file field missing"
   ```

3. Verify agent definitions support isolated spawning (Success Criteria #3):
   ```bash
   echo ""
   echo "=== Agent Definition Verification ==="

   # Check agent files exist and have correct structure
   echo "Agent files found:"
   ls agents/grd-*.md | wc -l

   # Verify key agent files have subagent_type definition
   echo ""
   echo "Agent type validation:"
   for agent in executor planner verifier researcher; do
     if test -f "agents/grd-$agent.md"; then
       grep -q "subagent_type" "agents/grd-$agent.md" && \
         echo "OK: grd-$agent has spawn metadata" || echo "WARN: grd-$agent spawn metadata unclear"
     else
       echo "FAIL: agents/grd-$agent.md missing"
     fi
   done

   # Check that agents reference correct paths (grd not gsd)
   echo ""
   echo "Agent path validation:"
   OLD_PATHS=$(grep -l "gsd-\|get-shit-done" agents/grd-*.md 2>/dev/null | wc -l)
   echo "Agents with old paths: $OLD_PATHS (expected: 0)"
   ```
  </action>
  <verify>
    - Config directory exists with valid JSON files
    - STATE.md template has Session Continuity section with last session, stop point, and resume file fields
    - All 11 agent definition files exist in agents/grd-*.md
    - Agent files contain no old gsd-/get-shit-done references
  </verify>
  <done>
    Config system, state restoration, and agent spawn capabilities verified working after rename
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete GRD rebrand of the codebase:
    - All directories renamed (commands/grd/, get-research-done/, agents/grd-*.md)
    - ASCII art banner updated in installer
    - All text references updated across ~90 files
    - package.json configured for get-research-done npm package
    - STATE.md template extended with research loop tracking
    - Hooks rebuilt with new naming
    - Config system verified working (STATE-02)
    - Context restoration verified working (STATE-03)
    - Agent spawning infrastructure verified
  </what-built>
  <how-to-verify>
    1. Review the ASCII art banner in bin/install.js:
       ```bash
       grep -A 12 "const banner" bin/install.js
       ```
       Verify it shows "GRD" letters and "Get Research Done" tagline

    2. Check package identity:
       ```bash
       node -e "const p = require('./package.json'); console.log(p.name, p.version)"
       ```
       Should output: get-research-done 2.0.0

    3. Verify command structure:
       ```bash
       ls commands/grd/ | head -5
       ```
       Should show .md files (add-phase.md, execute-phase.md, etc.)

    4. Check STATE.md template has loop tracking:
       ```bash
       grep -A 5 "Research Loop History" get-research-done/templates/state.md
       ```
       Should show loop tracking table structure

    5. Verify no old references (sanity check):
       ```bash
       grep -r "get-shit-done" --include="*.md" --include="*.js" . \
         --exclude-dir=node_modules --exclude-dir=.git --exclude-dir=.planning | wc -l
       ```
       Should return 0
  </how-to-verify>
  <resume-signal>Type "approved" if GRD branding looks correct, or describe any issues</resume-signal>
</task>

</tasks>

<verification>
Final verification checklist:

```bash
echo "=== FINAL VERIFICATION ==="
echo ""

# 1. Directory structure
echo "1. Directory Structure:"
test -d commands/grd && echo "  PASS: commands/grd exists" || echo "  FAIL: commands/grd missing"
test -d get-research-done && echo "  PASS: get-research-done exists" || echo "  FAIL: get-research-done missing"
test ! -d commands/gsd && echo "  PASS: commands/gsd removed" || echo "  FAIL: commands/gsd still exists"
test ! -d get-shit-done && echo "  PASS: get-shit-done removed" || echo "  FAIL: get-shit-done still exists"

# 2. File counts
echo ""
echo "2. File Counts:"
echo "  Commands: $(ls commands/grd/*.md 2>/dev/null | wc -l) (expected: 27)"
echo "  Agents: $(ls agents/grd-*.md 2>/dev/null | wc -l) (expected: 11)"
echo "  Hook sources: $(ls hooks/grd-*.js 2>/dev/null | wc -l) (expected: 2)"
echo "  Hook dist: $(ls hooks/dist/grd-*.js 2>/dev/null | wc -l) (expected: 2)"

# 3. Package identity
echo ""
echo "3. Package Identity:"
node -e "const p = require('./package.json'); console.log('  Name:', p.name); console.log('  Version:', p.version);"

# 4. No old references
echo ""
echo "4. Old Reference Check:"
OLD_REFS=$(grep -r "gsd:\|gsd-\|get-shit-done" --include="*.md" --include="*.js" --include="*.json" . \
  --exclude-dir=node_modules --exclude-dir=.git --exclude-dir=.planning 2>/dev/null | wc -l)
echo "  Remaining old references: $OLD_REFS (expected: 0)"

# 5. State template
echo ""
echo "5. State Template:"
grep -q "Research Loop History" get-research-done/templates/state.md && \
  echo "  PASS: Loop tracking section present" || echo "  FAIL: Loop tracking section missing"

# 6. Config system (STATE-02)
echo ""
echo "6. Config System:"
test -d get-research-done/config && echo "  PASS: config/ exists" || echo "  FAIL: config/ missing"
node -e "JSON.parse(require('fs').readFileSync('get-research-done/config/default.json'))" 2>/dev/null && \
  echo "  PASS: default.json valid" || echo "  FAIL: default.json invalid"

# 7. Context restoration (STATE-03)
echo ""
echo "7. Context Restoration:"
grep -q "Session Continuity" get-research-done/templates/state.md && \
  echo "  PASS: Session Continuity present" || echo "  FAIL: Session Continuity missing"
grep -q "Resume file:" get-research-done/templates/state.md && \
  echo "  PASS: Resume tracking present" || echo "  FAIL: Resume tracking missing"

# 8. Agent spawning
echo ""
echo "8. Agent Infrastructure:"
echo "  Agents: $(ls agents/grd-*.md 2>/dev/null | wc -l) (expected: 11)"
OLD_AGENT_REFS=$(grep -l "gsd-\|get-shit-done" agents/grd-*.md 2>/dev/null | wc -l)
echo "  Agents with old refs: $OLD_AGENT_REFS (expected: 0)"
```
</verification>

<success_criteria>
- Zero GSD references in codebase (excluding .planning/, node_modules/, .git/, and changelog history)
- All JavaScript files pass syntax validation
- Hook build completes successfully with grd-*.js output
- Config system loads correctly (STATE-02 verified)
- STATE.md template supports context restoration (STATE-03 verified)
- Agent definitions support isolated spawning (Success Criteria #3 verified)
- Human verifies ASCII art banner displays correctly
- Human verifies package identity is correct
- Human verifies STATE.md template has research loop section
</success_criteria>

<output>
After human approval, create `.planning/phases/01-core-orchestration-branding/01-06-SUMMARY.md`

Final commit:
```bash
git add -A
git commit -m "feat(01-06): complete GRD rebrand verification

- Verify zero GSD references remain
- Validate all JavaScript compiles
- Confirm hooks build successfully
- Human verified branding appearance

Phase 1 complete: Core Orchestration & Branding

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>"
```
</output>
