---
phase: 15-command-renames
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - .claude/commands/grd/add-experiment.md
  - .claude/commands/grd/insert-experiment.md
  - .claude/commands/grd/remove-experiment.md
  - commands/grd/add-experiment.md
  - commands/grd/insert-experiment.md
  - commands/grd/remove-experiment.md
autonomous: true

must_haves:
  truths:
    - "User can run /grd:add-experiment and it works identically to add-phase"
    - "User can run /grd:insert-experiment and it works identically to insert-phase"
    - "User can run /grd:remove-experiment and it works identically to remove-phase"
    - "No references to add-phase, insert-phase, or remove-phase remain in codebase"
  artifacts:
    - path: ".claude/commands/grd/add-experiment.md"
      provides: "add-experiment command"
      contains: "name: grd:add-experiment"
    - path: ".claude/commands/grd/insert-experiment.md"
      provides: "insert-experiment command"
      contains: "name: grd:insert-experiment"
    - path: ".claude/commands/grd/remove-experiment.md"
      provides: "remove-experiment command"
      contains: "name: grd:remove-experiment"
    - path: "commands/grd/add-experiment.md"
      provides: "add-experiment command (mirror)"
      contains: "name: grd:add-experiment"
    - path: "commands/grd/insert-experiment.md"
      provides: "insert-experiment command (mirror)"
      contains: "name: grd:insert-experiment"
    - path: "commands/grd/remove-experiment.md"
      provides: "remove-experiment command (mirror)"
      contains: "name: grd:remove-experiment"
  key_links:
    - from: "all command files"
      to: "add-experiment, insert-experiment, remove-experiment"
      via: "/grd:command-name references"
      pattern: "/grd:(add-experiment|insert-experiment|remove-experiment)"
---

<objective>
Rename roadmap management commands to experiment terminology.

Purpose: These commands manage the roadmap structure (adding, inserting, removing phases). Renaming them completes the experiment-centric terminology for all 9 phase-related commands.

Output: Three renamed commands with all cross-references updated across the codebase.
</objective>

<execution_context>
@./.claude/get-research-done/workflows/execute-plan.md
@./.claude/get-research-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-command-renames/15-CONTEXT.md
@.planning/phases/15-command-renames/15-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rename add-phase to add-experiment</name>
  <files>
    .claude/commands/grd/add-phase.md -> .claude/commands/grd/add-experiment.md
    commands/grd/add-phase.md -> commands/grd/add-experiment.md
  </files>
  <action>
    Execute atomic rename for add-phase:

    1. Rename files in BOTH directories:
       - mv .claude/commands/grd/add-phase.md .claude/commands/grd/add-experiment.md
       - mv commands/grd/add-phase.md commands/grd/add-experiment.md

    2. Update frontmatter name field in BOTH renamed files:
       - Change `name: grd:add-phase` to `name: grd:add-experiment`
       - Update description to reflect "experiment" terminology (e.g., "Add new experiment to end of current study")

    3. Update ALL cross-references in ALL .md files under .claude/, commands/, get-research-done/:
       - Replace `/grd:add-phase` with `/grd:add-experiment` everywhere

    4. Verify no orphan references remain (excluding .planning/phases/ historical docs)

    IMPORTANT: Skip .planning/phases/ directory when updating references - these are historical records.
  </action>
  <verify>
    Run: grep -r "add-phase" .claude/ commands/ get-research-done/ --include="*.md" | wc -l
    Expected: 0

    Run: grep -l "add-experiment" .claude/commands/grd/add-experiment.md commands/grd/add-experiment.md
    Expected: Both files listed
  </verify>
  <done>
    - .claude/commands/grd/add-experiment.md exists with correct frontmatter
    - commands/grd/add-experiment.md exists with correct frontmatter (mirror)
    - No references to "add-phase" remain in active system files
    - All references now use "add-experiment"
  </done>
</task>

<task type="auto">
  <name>Task 2: Rename insert-phase to insert-experiment</name>
  <files>
    .claude/commands/grd/insert-phase.md -> .claude/commands/grd/insert-experiment.md
    commands/grd/insert-phase.md -> commands/grd/insert-experiment.md
  </files>
  <action>
    Execute atomic rename for insert-phase:

    1. Rename files in BOTH directories:
       - mv .claude/commands/grd/insert-phase.md .claude/commands/grd/insert-experiment.md
       - mv commands/grd/insert-phase.md commands/grd/insert-experiment.md

    2. Update frontmatter name field in BOTH renamed files:
       - Change `name: grd:insert-phase` to `name: grd:insert-experiment`
       - Update description to reflect "experiment" terminology (e.g., "Insert urgent experiment as decimal between existing experiments")

    3. Update ALL cross-references in ALL .md files under .claude/, commands/, get-research-done/:
       - Replace `/grd:insert-phase` with `/grd:insert-experiment` everywhere

    4. Verify no orphan references remain (excluding .planning/phases/ historical docs)

    IMPORTANT: Skip .planning/phases/ directory when updating references - these are historical records.
  </action>
  <verify>
    Run: grep -r "insert-phase" .claude/ commands/ get-research-done/ --include="*.md" | wc -l
    Expected: 0

    Run: grep -l "insert-experiment" .claude/commands/grd/insert-experiment.md commands/grd/insert-experiment.md
    Expected: Both files listed
  </verify>
  <done>
    - .claude/commands/grd/insert-experiment.md exists with correct frontmatter
    - commands/grd/insert-experiment.md exists with correct frontmatter (mirror)
    - No references to "insert-phase" remain in active system files
    - All references now use "insert-experiment"
  </done>
</task>

<task type="auto">
  <name>Task 3: Rename remove-phase to remove-experiment</name>
  <files>
    .claude/commands/grd/remove-phase.md -> .claude/commands/grd/remove-experiment.md
    commands/grd/remove-phase.md -> commands/grd/remove-experiment.md
  </files>
  <action>
    Execute atomic rename for remove-phase:

    1. Rename files in BOTH directories:
       - mv .claude/commands/grd/remove-phase.md .claude/commands/grd/remove-experiment.md
       - mv commands/grd/remove-phase.md commands/grd/remove-experiment.md

    2. Update frontmatter name field in BOTH renamed files:
       - Change `name: grd:remove-phase` to `name: grd:remove-experiment`
       - Update description to reflect "experiment" terminology (e.g., "Remove a future experiment and renumber subsequent experiments")

    3. Update ALL cross-references in ALL .md files under .claude/, commands/, get-research-done/:
       - Replace `/grd:remove-phase` with `/grd:remove-experiment` everywhere

    4. Verify no orphan references remain (excluding .planning/phases/ historical docs)

    IMPORTANT: Skip .planning/phases/ directory when updating references - these are historical records.
  </action>
  <verify>
    Run: grep -r "remove-phase" .claude/ commands/ get-research-done/ --include="*.md" | wc -l
    Expected: 0

    Run: grep -l "remove-experiment" .claude/commands/grd/remove-experiment.md commands/grd/remove-experiment.md
    Expected: Both files listed
  </verify>
  <done>
    - .claude/commands/grd/remove-experiment.md exists with correct frontmatter
    - commands/grd/remove-experiment.md exists with correct frontmatter (mirror)
    - No references to "remove-phase" remain in active system files
    - All references now use "remove-experiment"
  </done>
</task>

</tasks>

<verification>
After all three renames are complete:

1. Command files exist in both directories:
   - ls .claude/commands/grd/{add-experiment,insert-experiment,remove-experiment}.md
   - ls commands/grd/{add-experiment,insert-experiment,remove-experiment}.md

2. Old command files are gone:
   - ls .claude/commands/grd/{add-phase,insert-phase,remove-phase}.md should fail
   - ls commands/grd/{add-phase,insert-phase,remove-phase}.md should fail

3. No orphan references in active code (excluding historical .planning/phases/ docs):
   - grep -r "add-phase\|insert-phase\|remove-phase" .claude/ commands/ get-research-done/ --include="*.md" | wc -l = 0

4. Frontmatter is correct in all renamed files:
   - grep "name: grd:add-experiment" .claude/commands/grd/add-experiment.md
   - grep "name: grd:insert-experiment" .claude/commands/grd/insert-experiment.md
   - grep "name: grd:remove-experiment" .claude/commands/grd/remove-experiment.md
</verification>

<success_criteria>
- [ ] add-phase.md renamed to add-experiment.md (both directories)
- [ ] insert-phase.md renamed to insert-experiment.md (both directories)
- [ ] remove-phase.md renamed to remove-experiment.md (both directories)
- [ ] All frontmatter name fields updated
- [ ] All cross-references updated (excluding historical docs)
- [ ] Zero orphan references to old command names in active code
- [ ] Git commit with changes
</success_criteria>

<output>
After completion, create `.planning/phases/15-command-renames/15-03-SUMMARY.md`
</output>
