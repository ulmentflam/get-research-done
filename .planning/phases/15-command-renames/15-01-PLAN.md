---
phase: 15-command-renames
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .claude/commands/grd/design-experiment.md
  - .claude/commands/grd/run-experiment.md
  - .claude/commands/grd/scope-experiment.md
  - commands/grd/design-experiment.md
  - commands/grd/run-experiment.md
  - commands/grd/scope-experiment.md
autonomous: true

must_haves:
  truths:
    - "User can run /grd:design-experiment and it works identically to plan-phase"
    - "User can run /grd:run-experiment and it works identically to execute-phase"
    - "User can run /grd:scope-experiment and it works identically to discuss-phase"
    - "No references to plan-phase, execute-phase, or discuss-phase remain in codebase"
  artifacts:
    - path: ".claude/commands/grd/design-experiment.md"
      provides: "design-experiment command"
      contains: "name: grd:design-experiment"
    - path: ".claude/commands/grd/run-experiment.md"
      provides: "run-experiment command"
      contains: "name: grd:run-experiment"
    - path: ".claude/commands/grd/scope-experiment.md"
      provides: "scope-experiment command"
      contains: "name: grd:scope-experiment"
    - path: "commands/grd/design-experiment.md"
      provides: "design-experiment command (mirror)"
      contains: "name: grd:design-experiment"
    - path: "commands/grd/run-experiment.md"
      provides: "run-experiment command (mirror)"
      contains: "name: grd:run-experiment"
    - path: "commands/grd/scope-experiment.md"
      provides: "scope-experiment command (mirror)"
      contains: "name: grd:scope-experiment"
  key_links:
    - from: "all command files"
      to: "design-experiment, run-experiment, scope-experiment"
      via: "/grd:command-name references"
      pattern: "/grd:(design-experiment|run-experiment|scope-experiment)"
---

<objective>
Rename the three most-referenced phase commands to experiment terminology.

Purpose: These commands form the core workflow (plan -> execute -> discuss). Renaming them establishes the experiment-centric mental model for all GRD users.

Output: Three renamed commands with all cross-references updated across the codebase.
</objective>

<execution_context>
@./.claude/get-research-done/workflows/execute-plan.md
@./.claude/get-research-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-command-renames/15-CONTEXT.md
@.planning/phases/15-command-renames/15-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rename plan-phase to design-experiment</name>
  <files>
    .claude/commands/grd/plan-phase.md -> .claude/commands/grd/design-experiment.md
    commands/grd/plan-phase.md -> commands/grd/design-experiment.md
  </files>
  <action>
    Execute atomic rename for plan-phase:

    1. Rename files in BOTH directories:
       - mv .claude/commands/grd/plan-phase.md .claude/commands/grd/design-experiment.md
       - mv commands/grd/plan-phase.md commands/grd/design-experiment.md

    2. Update frontmatter name field in BOTH renamed files:
       - Change `name: grd:design-experiment` to `name: grd:design-experiment`
       - Update description to reflect "experiment" terminology (e.g., "Create detailed execution plan for an experiment")

    3. Update ALL cross-references in ALL .md files under .claude/ and commands/:
       - Replace `/grd:design-experiment` with `/grd:design-experiment` everywhere
       - This includes help.md, agent files, workflow files, other command files

    4. ALSO update cross-references in these additional directories:
       - .planning/ (STATE.md, research files, etc.)
       - get-research-done/ (workflows, templates, references)

    5. Verify no orphan references remain:
       - grep -r "plan-phase" .claude/ commands/ get-research-done/ should return 0 results
       - grep -r "grd:design-experiment" . --include="*.md" should return 0 results

    IMPORTANT: The .planning/phases/ directory contains historical PLAN.md and SUMMARY.md files from previous phases. These are documentation of what was done, not active code. Do NOT update old plan files - they should preserve their historical state. Only update files that are actively used by the system (commands, agents, workflows, templates, help).
  </action>
  <verify>
    Run: grep -r "plan-phase" .claude/ commands/ get-research-done/ --include="*.md" | grep -v ".planning/phases/" | wc -l
    Expected: 0

    Run: grep -l "design-experiment" .claude/commands/grd/design-experiment.md commands/grd/design-experiment.md
    Expected: Both files listed
  </verify>
  <done>
    - .claude/commands/grd/design-experiment.md exists with correct frontmatter
    - commands/grd/design-experiment.md exists with correct frontmatter (mirror)
    - No references to "plan-phase" remain in active system files
    - All references now use "design-experiment"
  </done>
</task>

<task type="auto">
  <name>Task 2: Rename execute-phase to run-experiment</name>
  <files>
    .claude/commands/grd/execute-phase.md -> .claude/commands/grd/run-experiment.md
    commands/grd/execute-phase.md -> commands/grd/run-experiment.md
  </files>
  <action>
    Execute atomic rename for execute-phase:

    1. Rename files in BOTH directories:
       - mv .claude/commands/grd/execute-phase.md .claude/commands/grd/run-experiment.md
       - mv commands/grd/execute-phase.md commands/grd/run-experiment.md

    2. Update frontmatter name field in BOTH renamed files:
       - Change `name: grd:run-experiment` to `name: grd:run-experiment`
       - Update description to reflect "experiment" terminology (e.g., "Execute all plans in an experiment")

    3. Update ALL cross-references in ALL .md files under .claude/, commands/, get-research-done/:
       - Replace `/grd:run-experiment` with `/grd:run-experiment` everywhere

    4. Verify no orphan references remain (excluding .planning/phases/ historical docs)

    IMPORTANT: Skip .planning/phases/ directory when updating references - these are historical records.
  </action>
  <verify>
    Run: grep -r "execute-phase" .claude/ commands/ get-research-done/ --include="*.md" | wc -l
    Expected: 0

    Run: grep -l "run-experiment" .claude/commands/grd/run-experiment.md commands/grd/run-experiment.md
    Expected: Both files listed
  </verify>
  <done>
    - .claude/commands/grd/run-experiment.md exists with correct frontmatter
    - commands/grd/run-experiment.md exists with correct frontmatter (mirror)
    - No references to "execute-phase" remain in active system files
    - All references now use "run-experiment"
  </done>
</task>

<task type="auto">
  <name>Task 3: Rename discuss-phase to scope-experiment</name>
  <files>
    .claude/commands/grd/discuss-phase.md -> .claude/commands/grd/scope-experiment.md
    commands/grd/discuss-phase.md -> commands/grd/scope-experiment.md
  </files>
  <action>
    Execute atomic rename for discuss-phase:

    Per CONTEXT.md, use "scope-experiment" (not "define-experiment") - "scope" implies boundaries and clarification, which matches the command's purpose of capturing how the user imagines a phase working.

    1. Rename files in BOTH directories:
       - mv .claude/commands/grd/discuss-phase.md .claude/commands/grd/scope-experiment.md
       - mv commands/grd/discuss-phase.md commands/grd/scope-experiment.md

    2. Update frontmatter name field in BOTH renamed files:
       - Change `name: grd:scope-experiment` to `name: grd:scope-experiment`
       - Update description to reflect "experiment" terminology (e.g., "Capture your vision for an experiment before planning")

    3. Update ALL cross-references in ALL .md files under .claude/, commands/, get-research-done/:
       - Replace `/grd:scope-experiment` with `/grd:scope-experiment` everywhere

    4. Verify no orphan references remain (excluding .planning/phases/ historical docs)

    IMPORTANT: Skip .planning/phases/ directory when updating references - these are historical records.
  </action>
  <verify>
    Run: grep -r "discuss-phase" .claude/ commands/ get-research-done/ --include="*.md" | wc -l
    Expected: 0

    Run: grep -l "scope-experiment" .claude/commands/grd/scope-experiment.md commands/grd/scope-experiment.md
    Expected: Both files listed
  </verify>
  <done>
    - .claude/commands/grd/scope-experiment.md exists with correct frontmatter
    - commands/grd/scope-experiment.md exists with correct frontmatter (mirror)
    - No references to "discuss-phase" remain in active system files
    - All references now use "scope-experiment"
  </done>
</task>

</tasks>

<verification>
After all three renames are complete:

1. Command files exist in both directories:
   - ls .claude/commands/grd/{design-experiment,run-experiment,scope-experiment}.md
   - ls commands/grd/{design-experiment,run-experiment,scope-experiment}.md

2. Old command files are gone:
   - ls .claude/commands/grd/{plan-phase,execute-phase,discuss-phase}.md should fail
   - ls commands/grd/{plan-phase,execute-phase,discuss-phase}.md should fail

3. No orphan references in active code (excluding historical .planning/phases/ docs):
   - grep -r "plan-phase\|execute-phase\|discuss-phase" .claude/ commands/ get-research-done/ --include="*.md" | wc -l = 0

4. Frontmatter is correct in all renamed files:
   - grep "name: grd:design-experiment" .claude/commands/grd/design-experiment.md
   - grep "name: grd:run-experiment" .claude/commands/grd/run-experiment.md
   - grep "name: grd:scope-experiment" .claude/commands/grd/scope-experiment.md
</verification>

<success_criteria>
- [ ] plan-phase.md renamed to design-experiment.md (both directories)
- [ ] execute-phase.md renamed to run-experiment.md (both directories)
- [ ] discuss-phase.md renamed to scope-experiment.md (both directories)
- [ ] All frontmatter name fields updated
- [ ] All cross-references updated (excluding historical docs)
- [ ] Zero orphan references to old command names in active code
- [ ] Git commit with changes
</success_criteria>

<output>
After completion, create `.planning/phases/15-command-renames/15-01-SUMMARY.md`
</output>
