---
phase: 02-data-reconnaissance
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - commands/grd/explore.md
  - agents/grd-explorer.md
  - get-research-done/templates/data-report.md
autonomous: true

must_haves:
  truths:
    - "User can invoke /grd:explore command"
    - "Command spawns grd-explorer agent"
    - "DATA_REPORT.md template exists with required sections"
  artifacts:
    - path: "commands/grd/explore.md"
      provides: "Entry point for data exploration"
      contains: "name: grd:explore"
    - path: "agents/grd-explorer.md"
      provides: "Explorer agent skeleton"
      contains: "name: grd-explorer"
    - path: "get-research-done/templates/data-report.md"
      provides: "Report output template"
      contains: "## Data Overview"
  key_links:
    - from: "commands/grd/explore.md"
      to: "agents/grd-explorer.md"
      via: "agent spawn reference"
      pattern: "grd-explorer"
    - from: "agents/grd-explorer.md"
      to: "get-research-done/templates/data-report.md"
      via: "template reference"
      pattern: "@.*data-report.md"
---

<objective>
Create the /grd:explore command, grd-explorer agent skeleton, and DATA_REPORT.md template

Purpose: Establish the foundational files for the Explorer agent workflow. This plan creates the entry point (command), the agent that will be populated with analysis logic in subsequent plans, and the output template.

Output: Three markdown files that form the scaffolding for data reconnaissance
</objective>

<execution_context>
@/Users/evanowen/.claude/get-research-done/workflows/execute-plan.md
@/Users/evanowen/.claude/get-research-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-data-reconnaissance/02-CONTEXT.md
@.planning/phases/02-data-reconnaissance/02-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create /grd:explore command</name>
  <files>commands/grd/explore.md</files>
  <action>
Create the explore command file following the existing command file pattern.

Reference existing command file structure from: commands/grd/new-project.md or commands/grd/plan-phase.md

The command should:
1. Have frontmatter with name: grd:explore
2. Accept optional data path argument (file or directory)
3. Accept --detailed flag for full profiling mode
4. Spawn the grd-explorer agent
5. Pass the data path and flags to the agent

Include these sections:
- Description of what the command does
- Arguments: [path] (optional - if not provided, agent will prompt interactively)
- Flags: --detailed (enable full profiling with histograms, percentiles, skewness)
- Example usage: `/grd:explore ./data/train.csv` or `/grd:explore s3://bucket/data.parquet`
- What the agent produces: DATA_REPORT.md in .planning/

Follow the established GRD command conventions from other files in commands/grd/
  </action>
  <verify>
    - File exists at commands/grd/explore.md
    - `grep "name: grd:explore" commands/grd/explore.md` returns a match
    - `grep "grd-explorer" commands/grd/explore.md` returns a match (agent reference)
  </verify>
  <done>
    /grd:explore command file exists with proper frontmatter and agent spawn
  </done>
</task>

<task type="auto">
  <name>Task 2: Create grd-explorer agent skeleton</name>
  <files>agents/grd-explorer.md</files>
  <action>
Create the Explorer agent file following the existing agent file pattern.

Reference existing agent structure from: agents/grd-executor.md

The agent skeleton should include:
1. Frontmatter:
   - name: grd-explorer
   - description: Analyzes raw data and generates DATA_REPORT.md with distributions, outliers, anomalies, and leakage detection
   - tools: Read, Write, Bash, Glob, Grep
   - color: blue

2. Role section explaining the Explorer's purpose:
   - Data-first reconnaissance before hypothesis formation
   - Surfaces anomalies, distributions, and potential leakage
   - Generates structured DATA_REPORT.md

3. Execution flow skeleton (to be populated in Plan 02-03):
   - load_data step placeholder
   - profile_data step placeholder
   - detect_leakage step placeholder
   - generate_report step placeholder

4. Output section referencing the template:
   @get-research-done/templates/data-report.md

Mark clearly which sections are placeholders with comments like:
<!-- Detailed logic to be added in 02-02-PLAN.md -->
  </action>
  <verify>
    - File exists at agents/grd-explorer.md
    - `grep "name: grd-explorer" agents/grd-explorer.md` returns a match
    - `grep "data-report.md" agents/grd-explorer.md` returns a match (template ref)
  </verify>
  <done>
    grd-explorer agent skeleton exists with proper frontmatter and structure
  </done>
</task>

<task type="auto">
  <name>Task 3: Create DATA_REPORT.md template</name>
  <files>get-research-done/templates/data-report.md</files>
  <action>
Create the DATA_REPORT.md template that the Explorer agent will populate.

Structure based on CONTEXT.md decisions and RESEARCH.md patterns:

```markdown
# Data Report: {dataset_name}

**Generated:** {timestamp}
**Source:** {file_path_or_paths}
**Sampling:** {sampling_note_if_applicable}

## Data Overview

| Metric | Value |
|--------|-------|
| Total Rows | {count} |
| Total Columns | {count} |
| Memory Usage | {size} |
| File Format | {format} |

### Column Summary

| Column | Type | Non-Null | Unique | Sample Values |
|--------|------|----------|--------|---------------|
| {col} | {dtype} | {count} | {count} | {values} |

## Distributions & Statistics

### Numerical Columns

| Column | Mean | Std | Min | 25% | 50% | 75% | Max |
|--------|------|-----|-----|-----|-----|-----|-----|
| {col} | {val} | {val} | {val} | {val} | {val} | {val} | {val} |

### Categorical Columns

| Column | Unique | Top Value | Frequency |
|--------|--------|-----------|-----------|
| {col} | {count} | {value} | {count} |

## Missing Data Analysis

| Column | Missing Count | Missing % | Pattern | Confidence |
|--------|---------------|-----------|---------|------------|
| {col} | {count} | {pct} | {MCAR/MAR/MNAR} | {HIGH/MEDIUM/LOW} |

## Outlier Detection

### Statistical Outliers

| Column | Method | Outlier Count | % of Total | Severity |
|--------|--------|---------------|------------|----------|
| {col} | Z-score (>3) | {count} | {pct} | {severity} |
| {col} | IQR (1.5x) | {count} | {pct} | {severity} |

### Top Anomalous Values

| Column | Value | Z-score | Reason |
|--------|-------|---------|--------|
| {col} | {val} | {z} | {explanation} |

## Class Balance (if target specified)

| Class | Count | Percentage |
|-------|-------|------------|
| {class} | {count} | {pct} |

**Imbalance Ratio:** {ratio}
**Severity:** {LOW/MEDIUM/HIGH}
**Recommendation:** {recommendation}

## Data Leakage Analysis

### Feature-Target Correlation

| Feature | Correlation | Risk Level | Confidence | Notes |
|---------|-------------|------------|------------|-------|
| {feature} | {corr} | {HIGH/MEDIUM/LOW} | {confidence} | {explanation} |

### High Feature-Feature Correlations

| Feature 1 | Feature 2 | Correlation | Risk |
|-----------|-----------|-------------|------|
| {f1} | {f2} | {corr} | {risk_note} |

### Train-Test Overlap (if multiple files)

| Metric | Value |
|--------|-------|
| Overlapping Rows | {count} |
| Overlap % (Train) | {pct} |
| Overlap % (Test) | {pct} |
| Severity | {severity} |

### Temporal Leakage Indicators

| Issue | Detected | Confidence | Details |
|-------|----------|------------|---------|
| Future timestamps in features | {yes/no} | {confidence} | {details} |
| Train dates after test dates | {yes/no} | {confidence} | {details} |
| Rolling features computed globally | {unknown} | {confidence} | {details} |

## Recommendations

### Must Address (Blocking)

- [ ] {critical_issue_1}
- [ ] {critical_issue_2}

### Should Address (Non-blocking)

- [ ] {recommended_issue_1}
- [ ] {recommended_issue_2}

### Notes

{additional_observations}

---

*Report generated by GRD Explorer Agent*
*Template: get-research-done/templates/data-report.md*
```

This template should be comprehensive enough to cover all the profiling and leakage detection requirements from DATA-01 through DATA-04.
  </action>
  <verify>
    - File exists at get-research-done/templates/data-report.md
    - `grep "## Data Overview" get-research-done/templates/data-report.md` returns a match
    - `grep "## Data Leakage Analysis" get-research-done/templates/data-report.md` returns a match
    - `grep "## Recommendations" get-research-done/templates/data-report.md` returns a match
  </verify>
  <done>
    DATA_REPORT.md template exists with all required sections for profiling and leakage detection
  </done>
</task>

</tasks>

<verification>
Run comprehensive verification:

```bash
echo "=== Verifying Phase 02 Foundation ==="

echo "1. Command file exists and has correct name:"
grep "^name: grd:explore" commands/grd/explore.md && echo "OK" || echo "FAIL"

echo "2. Command references explorer agent:"
grep "grd-explorer" commands/grd/explore.md && echo "OK" || echo "FAIL"

echo "3. Agent file exists and has correct name:"
grep "^name: grd-explorer" agents/grd-explorer.md && echo "OK" || echo "FAIL"

echo "4. Agent references template:"
grep "data-report" agents/grd-explorer.md && echo "OK" || echo "FAIL"

echo "5. Template has required sections:"
grep -c "## Data Overview\|## Distributions\|## Missing Data\|## Outlier\|## Data Leakage\|## Recommendations" get-research-done/templates/data-report.md

echo "6. All files in git:"
git status --short commands/grd/explore.md agents/grd-explorer.md get-research-done/templates/data-report.md
```
</verification>

<success_criteria>
- commands/grd/explore.md exists with name: grd:explore
- agents/grd-explorer.md exists with name: grd-explorer
- get-research-done/templates/data-report.md exists with all sections
- Command spawns agent, agent references template (wiring complete)
- All files committed
</success_criteria>

<output>
After completion, create `.planning/phases/02-data-reconnaissance/02-01-SUMMARY.md`
</output>
