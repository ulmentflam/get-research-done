---
phase: 12-quick-explore
plan: 03
type: execute
wave: 2
depends_on: ["12-01", "12-02"]
files_modified:
  - .claude/agents/grd-explorer.md
  - .claude/agents/grd-architect.md
  - .claude/commands/grd/help.md
autonomous: true

must_haves:
  truths:
    - "Explorer agent detects and handles quick mode correctly"
    - "Architect agent warns when only quick-explore was run"
    - "Help documentation includes quick-explore command"
    - "Quick mode skips expensive analysis steps"
  artifacts:
    - path: ".claude/agents/grd-explorer.md"
      provides: "Updated explorer agent with quick mode support"
      contains: "quick"
    - path: ".claude/agents/grd-architect.md"
      provides: "Updated architect with quick-explore warning"
      contains: "quick-explore"
    - path: ".claude/commands/grd/help.md"
      provides: "Updated help with quick-explore command"
      contains: "quick-explore"
  key_links:
    - from: ".claude/agents/grd-architect.md"
      to: ".planning/DATA_REPORT.md"
      via: "file read for mode detection"
      pattern: "Quick Explore|mode.*quick"
---

<objective>
Integrate quick explore mode into the existing agent ecosystem.

Purpose: Update the Explorer agent to handle quick mode, add warnings to Architect when only quick-explore was run, and update help documentation.

Output:
- Updated grd-explorer.md agent with mode detection
- Updated grd-architect.md agent with quick-explore warning
- Updated help.md with quick-explore command documentation
</objective>

<execution_context>
@/Users/evanowen/.claude/get-research-done/workflows/execute-plan.md
@/Users/evanowen/.claude/get-research-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-quick-explore/12-CONTEXT.md
@.planning/phases/12-quick-explore/12-RESEARCH.md
@.claude/agents/grd-explorer.md
@.claude/agents/grd-architect.md
@.claude/commands/grd/help.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update grd-explorer.md agent for quick mode</name>
  <files>.claude/agents/grd-explorer.md</files>
  <action>
Update the grd-explorer.md agent to handle quick mode alongside the existing full mode.

Read the existing agent file first, then make the following additions:

1. **Add mode detection in Step 0:**
After the existing analysis mode detection, add quick mode detection:

```python
def detect_profiling_mode(task_prompt: str) -> str:
    """Determine if Explorer is in quick or full profiling mode."""
    # Check for quick mode indicator in task prompt
    if 'mode.*quick' in task_prompt.lower() or '<profiling_mode>\\nquick' in task_prompt.lower():
        return 'quick'
    return 'full'  # Default to full mode

profiling_mode = detect_profiling_mode(task_prompt)
```

2. **Add mode-specific behavior table after Step 0:**

| Mode | Scope | Output | Analysis Depth |
|------|-------|--------|----------------|
| quick | Basic stats, quality flags | Console + DATA_REPORT.md with Quick header | Skip detailed leakage, skip correlation matrices |
| full | Comprehensive analysis | DATA_REPORT.md only | All steps including leakage detection |

3. **Add quick mode path in Step 2 (Profile Data Structure):**

```python
if profiling_mode == 'quick':
    # Quick mode: Basic profiling only
    # - Skip reservoir sampling consideration (analyze full data)
    # - Use pandas describe() for stats
    # - Generate sparklines for distributions
    # - Skip detailed histogram generation
    pass
```

4. **Modify Step 7 (Detect Data Leakage) for quick mode:**

```python
if profiling_mode == 'quick':
    # Quick mode: Basic heuristics only
    # - Correlation threshold >0.95 with target (if <50 columns)
    # - Column name patterns (leakage_patterns list)
    # - Skip train-test overlap analysis
    # - Skip temporal leakage detailed analysis
    # - Skip derived feature comprehensive detection

    leakage_patterns = ['_target', '_label', '_pred', '_score', 'future_', 'next_']
    # ... basic checks only
```

5. **Modify Step 9 (Write DATA_REPORT.md) for quick mode:**

Add mode parameter to report generation:
- Quick mode: Include "Quick Explore Mode" banner at top
- Quick mode: Include footer note about running full explore
- Quick mode: Populate {{mode_banner}} placeholder

6. **Update Step 10 (Return Completion) for quick mode:**

For quick mode, return message should include:
- Console output summary (not just file reference)
- Prominent note: "Run /grd:explore for complete analysis"
- Warning if issues were detected that need deeper investigation

Keep all existing functionality intact. The changes add conditional paths, not replace existing logic.
  </action>
  <verify>
Agent file contains quick mode handling:
```bash
grep -q "profiling_mode" .claude/agents/grd-explorer.md && grep -q "quick" .claude/agents/grd-explorer.md && echo "OK"
```
  </verify>
  <done>grd-explorer.md agent updated with quick mode detection and conditional execution paths</done>
</task>

<task type="auto">
  <name>Task 2: Update grd-architect.md agent with quick-explore warning</name>
  <files>.claude/agents/grd-architect.md</files>
  <action>
Update the grd-architect.md agent to warn when only quick-explore was run.

Read the existing agent file first, then make the following additions:

1. **Add quick mode detection in Step 1 (Load Context):**

After reading DATA_REPORT.md, check for quick mode indicator:

```python
# Check if only quick-explore was run
quick_explore_only = False
if data_report_content:
    if 'Quick Explore Mode' in data_report_content or 'Mode: quick' in data_report_content:
        quick_explore_only = True
```

2. **Add warning in Step 2 (Initial Proposal):**

If quick_explore_only is True, add a prominent warning before the proposal:

```markdown
> **Warning: Quick Explore Only**
>
> DATA_REPORT.md was generated using quick explore mode, which skips comprehensive
> leakage detection and detailed analysis. Hypotheses based on this data may miss:
> - Subtle data leakage patterns
> - Complex feature-target relationships
> - Temporal leakage issues
>
> **Recommendation:** Run `/grd:explore` for rigorous analysis before finalizing hypotheses.
```

3. **Update validation in Step 6 (Validate Completeness):**

Add a new validation check in Step 6.3:

```python
# 6.3.5 Quick Explore Warning
if quick_explore_only:
    warnings.append({
        'type': 'quick_explore_only',
        'message': 'Hypothesis based on quick explore data. Run /grd:explore for comprehensive analysis.',
        'severity': 'WARNING'
    })
```

4. **Update OBJECTIVE.md generation in Step 7:**

If quick_explore_only, add a constraint in the Constraints section:

```markdown
### Data Constraints

- **Quick Explore Warning:** DATA_REPORT.md generated with quick explore mode.
  Comprehensive leakage detection was not performed. Consider running full
  `/grd:explore` before experimentation.
```

5. **Update completion message in Step 8:**

If quick_explore_only was True, include in the output:

```markdown
**Data Analysis Warning:**
- Hypothesis based on quick explore output only
- Run `/grd:explore` for comprehensive leakage detection before experiments
```

Keep all existing functionality intact. The changes add warnings, not change core behavior.
  </action>
  <verify>
Agent file contains quick-explore warning:
```bash
grep -q "quick_explore_only" .claude/agents/grd-architect.md && grep -q "Quick Explore" .claude/agents/grd-architect.md && echo "OK"
```
  </verify>
  <done>grd-architect.md agent updated with quick-explore warning when only quick mode data available</done>
</task>

<task type="auto">
  <name>Task 3: Update help.md with quick-explore command</name>
  <files>.claude/commands/grd/help.md</files>
  <action>
Update help.md to include the new quick-explore command.

Read the existing help.md file first, then add the quick-explore command documentation.

1. **Add to Quick Start section (if appropriate):**

No change needed - quick-explore is optional, not part of main workflow.

2. **Add new section after Core Workflow > Execution:**

Create a new subsection "### Quick Data Exploration" before "### Quick Mode":

```markdown
### Quick Data Exploration

**`/grd:quick-explore [path]`**
Fast EDA for quick data familiarization and team sharing.

- Produces console output optimized for copy-paste to Slack/docs
- Includes TL;DR prose summary, one-line-per-column stats
- Shows sparkline distributions and emoji quality indicators
- Skips comprehensive leakage detection for speed
- Writes DATA_REPORT.md with "Quick Explore" mode header

Use when you need fast data overview without full analysis rigor.
For comprehensive analysis with leakage detection, use `/grd:explore`.

Usage: `/grd:quick-explore ./data/train.csv`
Result: Console output + `.planning/DATA_REPORT.md` (quick mode)
```

3. **Update the Common Workflows section:**

Add a new workflow example after "Starting a new project:":

```markdown
**Quick data familiarization:**

```
/grd:quick-explore ./data/train.csv  # Fast overview for team sharing
# If issues found or need rigor:
/grd:explore ./data/train.csv        # Full analysis with leakage detection
```
```

4. **Ensure alphabetical/logical ordering:**

Place quick-explore near other data-related commands (explore, architect).

Keep all existing content intact. The changes are additive.
  </action>
  <verify>
Help file contains quick-explore:
```bash
grep -q "quick-explore" .claude/commands/grd/help.md && grep -q "Quick Data Exploration" .claude/commands/grd/help.md && echo "OK"
```
  </verify>
  <done>help.md updated with quick-explore command documentation and workflow example</done>
</task>

</tasks>

<verification>
1. grd-explorer.md contains quick mode detection and paths
2. grd-architect.md contains quick-explore-only warning
3. help.md contains quick-explore command documentation
4. All files maintain existing functionality
5. Grep patterns confirm expected content
</verification>

<success_criteria>
- [ ] grd-explorer.md updated with quick mode detection
- [ ] grd-explorer.md has conditional execution paths for quick mode
- [ ] grd-architect.md warns when only quick-explore was run
- [ ] grd-architect.md adds constraint to OBJECTIVE.md for quick mode
- [ ] help.md includes quick-explore command documentation
- [ ] help.md has quick data familiarization workflow example
</success_criteria>

<output>
After completion, create `.planning/phases/12-quick-explore/12-03-SUMMARY.md`
</output>
