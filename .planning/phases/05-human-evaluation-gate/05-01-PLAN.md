---
phase: 05-human-evaluation-gate
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - commands/grd/evaluate.md
  - get-research-done/templates/decision.md
  - get-research-done/templates/archive-reason.md
autonomous: true

must_haves:
  truths:
    - "User can run /grd:evaluate command to start human evaluation"
    - "DECISION.md template exists for per-run decision records"
    - "ARCHIVE_REASON.md template exists for negative results documentation"
  artifacts:
    - path: "commands/grd/evaluate.md"
      provides: "Phase 5 entry point command for human evaluation gate"
      min_lines: 150
    - path: "get-research-done/templates/decision.md"
      provides: "Template for per-run human decision records"
      min_lines: 30
    - path: "get-research-done/templates/archive-reason.md"
      provides: "Template for archiving failed hypotheses"
      min_lines: 25
  key_links:
    - from: "commands/grd/evaluate.md"
      to: "experiments/run_NNN/SCORECARD.json"
      via: "reads for evidence package"
      pattern: "SCORECARD.json"
    - from: "commands/grd/evaluate.md"
      to: ".planning/OBJECTIVE.md"
      via: "reads for hypothesis context"
      pattern: "OBJECTIVE.md"
---

<objective>
Create the /grd:evaluate command and supporting decision/archive templates for Phase 5 human evaluation gate.

Purpose: Establish the command-level entry point for human evaluation and create reusable templates for decision records and archive documentation. This plan sets up the structural foundation that subsequent plans will implement.

Output: Working /grd:evaluate command skeleton with templates for decision logging and archive reasons.
</objective>

<execution_context>
@/Users/evanowen/.claude/get-research-done/workflows/execute-plan.md
@/Users/evanowen/.claude/get-research-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-human-evaluation-gate/05-CONTEXT.md
@.planning/phases/05-human-evaluation-gate/05-RESEARCH.md
@commands/grd/research.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create /grd:evaluate command</name>
  <files>commands/grd/evaluate.md</files>
  <action>
Create the Phase 5 entry point command `/grd:evaluate` with structure similar to existing GRD commands.

**Command specification:**
- name: grd:evaluate
- description: Human evaluation gate for validated experiments
- allowed-tools: Read, Write, Bash, AskUserQuestion
- phase: 5
- requires: [experiments/run_NNN/SCORECARD.json]
- produces: [experiments/run_NNN/DECISION.md, human_eval/decision_log.md]

**Argument:**
- Optional [run_name] argument to specify which run to evaluate
- If omitted, finds latest run with SCORECARD.json

**Process phases (stub for now, implemented in 05-02):**

1. **Phase 1: Setup**
   - Check for SCORECARD.json in target run (hard gate)
   - Load OBJECTIVE.md for hypothesis context
   - Load DATA_REPORT.md if exists
   - Load CRITIC_LOG.md for verdict details
   - Determine run metadata (iteration, timestamp, description)

2. **Phase 2: Evidence Presentation** (placeholder)
   - Executive summary first (hypothesis, verdict, key metric)
   - Drill-down sections on demand

3. **Phase 3: Decision Gate** (placeholder)
   - Present Seal/Iterate/Archive options
   - Handle Archive confirmation and rationale capture
   - Handle Iterate routing with Critic suggestion

4. **Phase 4: Decision Logging** (placeholder)
   - Create DECISION.md in run directory
   - Append to central decision_log.md
   - Update STATE.md with decision

5. **Phase 5: Archive Handling** (placeholder)
   - If Archive: create archive directory, move final run, create ARCHIVE_REASON.md
   - Create ITERATION_SUMMARY.md for collapsed history

**Success criteria in command:**
- [ ] SCORECARD.json required (hard gate)
- [ ] Evidence package assembled
- [ ] Human decision captured
- [ ] Decision logged (per-run and central)
- [ ] Archive executed if chosen

Use existing GRD command patterns (explore.md, architect.md, research.md) for structure and formatting consistency.
  </action>
  <verify>
```bash
test -f commands/grd/evaluate.md && grep -q "grd:evaluate" commands/grd/evaluate.md && grep -q "SCORECARD.json" commands/grd/evaluate.md && echo "Command created with required elements"
```
  </verify>
  <done>
/grd:evaluate command exists with skeleton structure, SCORECARD.json hard gate, and placeholders for evidence presentation, decision gate, logging, and archive handling.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create DECISION.md template</name>
  <files>get-research-done/templates/decision.md</files>
  <action>
Create template for per-run human decision records based on 05-CONTEXT.md decisions.

**Template structure:**

```markdown
# Human Decision Template

Template for per-run decision records in `experiments/run_NNN/DECISION.md`.

---

## File Template

# Human Decision: {{run_name}}

**Timestamp:** {{ISO_8601_timestamp}}
**Hypothesis:** {{brief_hypothesis_from_objective}}
**Decision:** {{Seal|Iterate|Archive}}
**Rationale:** {{user_reasoning_if_provided}}

## Evidence Summary

**Critic Verdict:** {{PROCEED}} (Confidence: {{HIGH|MEDIUM|LOW}})
**Composite Score:** {{score}} (threshold: {{threshold}})
**Key Metric:** {{metric_name}}={{value}} (target: {{comparison}}{{threshold}})

## Metrics Detail

| Metric | Value | Threshold | Status |
|--------|-------|-----------|--------|
| {{metric_1}} | {{value}} | {{threshold}} | {{PASS|FAIL}} |
| {{metric_2}} | {{value}} | {{threshold}} | {{PASS|FAIL}} |

## Decision Context

### For Seal
- Hypothesis validated
- Ready for production/publication
- All success criteria met

### For Iterate
- Continuing experimentation
- Direction: {{REVISE_METHOD|REVISE_DATA}} (from Critic recommendation)
- Next focus: {{specific_area}}

### For Archive
- Hypothesis abandoned
- Reason: {{user_rationale_required}}
- Preserved as negative result

---

## Usage Notes

- Timestamp must be ISO 8601 format (YYYY-MM-DDTHH:MM:SSZ)
- Decision is one of: Seal, Iterate, Archive
- Rationale is REQUIRED for Archive, optional for others
- Metrics pulled from SCORECARD.json
- Run name matches directory (e.g., run_003_tuned)
```

Follow existing template patterns in get-research-done/templates/ for consistency.
  </action>
  <verify>
```bash
test -f get-research-done/templates/decision.md && grep -q "Human Decision" get-research-done/templates/decision.md && grep -q "Seal|Iterate|Archive" get-research-done/templates/decision.md && echo "Template created"
```
  </verify>
  <done>
DECISION.md template exists with all required fields: timestamp, hypothesis, decision type, rationale, evidence summary, metrics detail, and decision context for each path.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create ARCHIVE_REASON.md template</name>
  <files>get-research-done/templates/archive-reason.md</files>
  <action>
Create template for negative results preservation based on 05-CONTEXT.md decisions.

**Template structure:**

```markdown
# Archive Reason Template

Template for documenting failed/abandoned hypotheses in `experiments/archive/YYYY-MM-DD_hypothesis_name/ARCHIVE_REASON.md`.

---

## File Template

# Archive Reason: {{hypothesis_name}}

**Archived:** {{ISO_8601_timestamp}}
**Original Hypothesis:** {{hypothesis_statement_from_objective}}
**Final Iteration:** {{N}} of {{limit}}
**Final Verdict:** {{ESCALATE|REVISE_METHOD_limit|REVISE_DATA_unresolved}}

## Why This Failed

{{user_rationale_required}}

## What We Learned

{{Insights from failed attempts - to be filled by user}}

- Key finding 1
- Key finding 2
- ...

## What Would Need to Change

{{Conditions under which this might work - to be filled by user}}

- Required change 1
- Required change 2
- ...

## Final Metrics

| Metric | Best Value | Target | Gap |
|--------|------------|--------|-----|
| {{metric}} | {{best_achieved}} | {{threshold}} | {{difference}} |

## Iteration Timeline

See: ITERATION_SUMMARY.md for detailed history of all attempts.

---

*This negative result is preserved to prevent future researchers from repeating this approach without the necessary conditions.*

---

## Usage Notes

- hypothesis_name derived from OBJECTIVE.md, spaces replaced with underscores
- user_rationale is REQUIRED - this is the most important documentation
- "What We Learned" and "What Would Need to Change" sections guide future work
- Final metrics show best achieved values vs targets
- Always reference ITERATION_SUMMARY.md for full attempt history
```

This template ensures negative results are preserved with sufficient context for future researchers.
  </action>
  <verify>
```bash
test -f get-research-done/templates/archive-reason.md && grep -q "Why This Failed" get-research-done/templates/archive-reason.md && grep -q "What We Learned" get-research-done/templates/archive-reason.md && echo "Template created"
```
  </verify>
  <done>
ARCHIVE_REASON.md template exists with required sections: hypothesis identification, user rationale (required), learnings, conditions for success, final metrics, and reference to iteration history.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

```bash
# Verify command exists
test -f commands/grd/evaluate.md && echo "evaluate.md exists"

# Verify templates exist
test -f get-research-done/templates/decision.md && echo "decision.md exists"
test -f get-research-done/templates/archive-reason.md && echo "archive-reason.md exists"

# Verify command has required structure
grep -q "requires:.*SCORECARD.json" commands/grd/evaluate.md 2>/dev/null || grep -q "SCORECARD.json" commands/grd/evaluate.md && echo "SCORECARD gate present"
grep -q "Seal.*Iterate.*Archive" commands/grd/evaluate.md && echo "Decision options present"

# Verify templates have required fields
grep -q "Rationale" get-research-done/templates/decision.md && echo "Decision template has rationale"
grep -q "user_rationale_required" get-research-done/templates/archive-reason.md && echo "Archive template requires rationale"
```

Expected: All files exist with required content elements.
</verification>

<success_criteria>
- [ ] /grd:evaluate command created with SCORECARD.json hard gate
- [ ] Command has phase structure for evidence, decision, logging, archive
- [ ] DECISION.md template created with all decision types
- [ ] ARCHIVE_REASON.md template created with required rationale field
- [ ] Templates follow existing GRD template patterns
</success_criteria>

<output>
After completion, create `.planning/phases/05-human-evaluation-gate/05-01-SUMMARY.md`
</output>
