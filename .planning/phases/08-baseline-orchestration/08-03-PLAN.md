---
phase: 08-baseline-orchestration
plan: 03
type: execute
wave: 2
depends_on: ["08-01", "08-02"]
files_modified:
  - get-research-done/templates/objective.md
  - get-research-done/templates/scorecard.json
autonomous: false

must_haves:
  truths:
    - "OBJECTIVE.md template documents first-in-list baseline convention"
    - "SCORECARD.json template shows multi-baseline comparison structure"
    - "Templates are consistent with agent implementations"
  artifacts:
    - path: "get-research-done/templates/objective.md"
      provides: "Baseline ordering documentation"
      contains: "First baseline listed is primary"
    - path: "get-research-done/templates/scorecard.json"
      provides: "Multi-baseline comparison structure"
      contains: "baselines"
  key_links:
    - from: "get-research-done/templates/objective.md"
      to: "agents/grd-researcher.md"
      via: "Baseline parsing convention"
      pattern: "First baseline"
---

<objective>
Update OBJECTIVE.md and SCORECARD.json templates to document baseline ordering conventions and multi-baseline comparison structure.

Purpose: Ensure templates are consistent with the agent implementations from Plans 01 and 02, and provide clear guidance to users about baseline designation.

Output: Updated templates with clear documentation about primary/secondary baseline conventions and multi-baseline comparison format.
</objective>

<execution_context>
@/Users/evanowen/.claude/get-research-done/workflows/execute-plan.md
@/Users/evanowen/.claude/get-research-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-baseline-orchestration/08-CONTEXT.md
@.planning/phases/08-baseline-orchestration/08-01-SUMMARY.md
@.planning/phases/08-baseline-orchestration/08-02-SUMMARY.md
@get-research-done/templates/objective.md
@get-research-done/templates/scorecard.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update OBJECTIVE.md Template Baselines Section</name>
  <files>get-research-done/templates/objective.md</files>
  <action>
Update the "## Baselines" section in the OBJECTIVE.md template to document the first-in-list baseline convention and provide clearer guidance.

Find the current Baselines section and replace with:

```markdown
## Baselines

<!-- Comparison points for hypothesis validation. -->

| Baseline | Type | Expected Performance | Citation | Status |
|----------|------|---------------------|----------|--------|
| {{baseline_name}} | {{own_implementation|literature_citation}} | {{metric_value}} | {{paper_or_url}} | {{pending|complete}} |

**Baseline Ordering (IMPORTANT):**
- **First baseline listed = PRIMARY baseline (required)**
  - Researcher agent blocks if primary baseline results not found
  - Must have completed run with metrics.json before main experiment
- **Subsequent baselines = SECONDARY baselines (optional)**
  - Researcher warns if missing but proceeds
  - SCORECARD shows comparison for all available baselines

**Running Baselines:**
```bash
# Run primary baseline first
/grd:research --baseline {{primary_baseline_name}}

# Then run main experiment
/grd:research

# Optionally add secondary baselines
/grd:research --baseline {{secondary_baseline_name}}
```

**Baseline Types:**
- **own_implementation**: You will run this baseline yourself during experimentation
  - Results stored in experiments/run_*_{{baseline_name}}/metrics.json
  - Full provenance tracked (code, config, data hash)
- **literature_citation**: Published result from paper/benchmark
  - Expected performance entered manually in table
  - No per-fold data for statistical significance testing

**Warning:** If this section is empty, the system will warn but proceed. Baselines provide essential context for evaluating hypothesis success.

**Skip Validation:** Use `--skip-baseline` flag to bypass validation (not recommended):
```bash
/grd:research --skip-baseline
```
This is logged for audit trail and noted in SCORECARD.

**Caching:** Baseline results can be cached if configuration hasn't changed. No need to re-run baseline for every experiment iteration.
```

Also update the frontmatter section to include baseline count:
```yaml
# Baseline status
baseline_defined: {{true|false}}
baseline_count: {{number_of_baselines_or_0}}
```
  </action>
  <verify>
Read get-research-done/templates/objective.md and verify:
1. "First baseline listed = PRIMARY baseline" is documented
2. Command examples show --baseline flag usage
3. Skip validation option is documented
  </verify>
  <done>
OBJECTIVE.md template clearly documents first-in-list baseline convention with commands and skip option.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update SCORECARD.json Template for Multi-Baseline</name>
  <files>get-research-done/templates/scorecard.json</files>
  <action>
Update the SCORECARD.json template to reflect the new multi-baseline comparison structure implemented in Plan 08-02.

Replace the existing `baseline_comparison` section with:

```json
"baseline_comparison": {
  "experiment_score": "{{weighted_composite_score}}",
  "baselines": [
    {
      "name": "{{primary_baseline_name}}",
      "type": "primary",
      "source": "{{own_implementation|literature_citation}}",
      "score": "{{baseline_composite_score}}",
      "experiment_score": "{{experiment_composite_score}}",
      "improvement": "{{float_experiment_minus_baseline}}",
      "improvement_pct": "{{percentage_string}}",
      "significant": "{{true|false|not_tested}}",
      "run_path": "{{experiments/run_NNN_baseline/}}",
      "note": "{{optional_note_for_literature_baselines}}"
    },
    {
      "name": "{{secondary_baseline_name}}",
      "type": "secondary",
      "source": "{{own_implementation|literature_citation}}",
      "score": "{{baseline_composite_score}}",
      "improvement": "{{float_improvement}}",
      "improvement_pct": "{{percentage_string}}",
      "significant": "{{true|false|not_tested}}",
      "run_path": "{{experiments/run_NNN_secondary/|null_if_literature}}"
    }
  ],
  "primary_baseline": "{{primary_baseline_name_or_null}}",
  "secondary_baselines": ["{{secondary_name_1}}", "{{secondary_name_2}}"],
  "warnings": ["{{warning_if_any_baseline_unavailable}}"]
},

"baseline_validation": {
  "researcher_validated": "{{true|false}}",
  "evaluator_validated": "{{true|false}}",
  "validation_skipped": "{{true_if_skip_baseline_used|false}}",
  "data_hash_match": "{{true_if_same_data|false_with_warning}}",
  "notes": ["{{validation_notes_if_any}}"]
},
```

Also update the `_notes` section at the bottom:

```json
"_notes": {
  "description": "This template shows the structure and placeholder format for SCORECARD.json",
  "usage": "grd-evaluator agent populates this template with actual evaluation results",
  "weights_constraint": "All metric weights must sum to 1.0",
  "baseline_structure": "baselines array supports multiple comparisons: first is primary (required), rest are secondary (optional)",
  "baseline_types": "primary = required for experiment to proceed; secondary = optional additional comparisons",
  "baseline_validation": "Tracks both Researcher (start) and Evaluator (end) validation states",
  "mlflow_integration": "These fields are also logged to MLflow if available",
  "phase_5_requirement": "ready_for_human_review: true signals Phase 5 can proceed"
}
```
  </action>
  <verify>
Read get-research-done/templates/scorecard.json and verify:
1. baseline_comparison.baselines is an array
2. Each baseline has type (primary/secondary)
3. baseline_validation section exists
  </verify>
  <done>
SCORECARD.json template shows multi-baseline comparison structure with primary/secondary types and validation tracking.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Baseline orchestration implementation across:
1. grd-researcher.md - Validation gate at Step 1.0.5 (from Plan 08-01)
2. grd-evaluator.md - Safety check at Step 1.5 and multi-baseline SCORECARD (from Plan 08-02)
3. objective.md template - First-in-list baseline convention documentation
4. scorecard.json template - Multi-baseline comparison structure
  </what-built>
  <how-to-verify>
1. Review agents/grd-researcher.md:
   - Confirm Step 1.0.5 exists and contains baseline validation logic
   - Confirm actionable error message with /grd:research --baseline command
   - Confirm --skip-baseline handling

2. Review agents/grd-evaluator.md:
   - Confirm Step 1.5 validates baseline availability
   - Confirm multi-baseline comparison logic in Step 4
   - Confirm SCORECARD structure in Step 5

3. Review templates:
   - get-research-done/templates/objective.md documents baseline ordering
   - get-research-done/templates/scorecard.json shows multi-baseline structure

4. Trace through a hypothetical scenario:
   - OBJECTIVE.md defines 2 baselines: "random_classifier" (primary), "literature_sota" (secondary)
   - User runs /grd:research without running baseline first
   - Expected: ERROR with actionable message to run baseline first
   - User runs /grd:research --baseline random_classifier
   - User runs /grd:research (main experiment)
   - Expected: Proceeds, SCORECARD shows comparison table
  </how-to-verify>
  <resume-signal>Type "approved" to confirm baseline orchestration is complete, or describe any issues found.</resume-signal>
</task>

</tasks>

<verification>
After completing all tasks:

1. Verify OBJECTIVE.md template baseline section:
```bash
grep -A 20 "## Baselines" get-research-done/templates/objective.md
```

2. Verify SCORECARD.json template structure:
```bash
grep -A 10 '"baselines"' get-research-done/templates/scorecard.json
```

3. Trace end-to-end baseline flow:
   - OBJECTIVE.md defines baselines with first-in-list convention
   - Researcher validates at Step 1.0.5 (blocks on missing primary)
   - Evaluator re-validates at Step 1.5 (warns if missing at evaluation)
   - SCORECARD shows multi-baseline comparison table
</verification>

<success_criteria>
- [ ] OBJECTIVE.md template documents first-in-list = primary convention
- [ ] OBJECTIVE.md shows --baseline and --skip-baseline commands
- [ ] SCORECARD.json template has baselines array structure
- [ ] SCORECARD.json has baseline_validation section
- [ ] Human verified end-to-end flow is correct
- [ ] Phase 8 success criteria from ROADMAP.md are met
</success_criteria>

<output>
After completion, create `.planning/phases/08-baseline-orchestration/08-03-SUMMARY.md`
</output>
